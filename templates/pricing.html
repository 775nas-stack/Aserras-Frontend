{% extends "base.html" %}
{% block content %}
{% set upgrade_mode = is_upgrade|default(false) %}
<section class="section pricing-hero" data-content-block="pricing-hero" data-pricing>
  <div class="container section-header">
    <h1 data-content-key="pricing-title">
      {% if upgrade_mode %}
      Elevate your workspace in seconds
      {% else %}
      Plans crafted for every ambition
      {% endif %}
    </h1>
    <p data-content-key="pricing-subtitle">
      {% if upgrade_mode %}
      Choose the membership that unlocks your next milestone. Billing upgrades land instantly once checkout completes.
      {% else %}
      Select the membership that matches your pace. Each plan stays private, polished, and ready to scale.
      {% endif %}
    </p>
    <div class="plan-status-banner" data-plan-status-banner hidden>
      <span class="badge" data-plan-status-label>Active Plan</span>
      <span class="plan-status-name" data-plan-status-name>Free</span>
    </div>
    <p class="muted small plan-status-message" data-plan-status-message hidden>
      Current plan: <strong data-plan-status-name>Free</strong>
    </p>
    <p class="form-feedback" data-plan-feedback hidden></p>
  </div>
  <div class="container pricing-grid" data-pricing-grid>
    <article class="pricing-card" data-plan="free" data-plan-card>
      <h2 data-plan-name="free">Free</h2>
      <div class="plan-price" data-plan-price="free">$0<span>/month</span></div>
      <ul data-plan-features="free">
        <li data-feature-index="0">Start chatting instantly</li>
        <li data-feature-index="1">Personal workspace basics</li>
        <li data-feature-index="2">Secure message history</li>
      </ul>
      <div class="plan-status-chip" aria-hidden="true" hidden>Active Plan</div>
      <button class="btn ghost" type="button" data-checkout-plan data-default-label="Select Plan" data-active-label="Active Plan">Select Plan</button>
    </article>
    <article class="pricing-card" data-plan="basic" data-plan-card>
      <h2 data-plan-name="basic">Basic</h2>
      <div class="plan-price" data-plan-price="basic">$12<span>/month</span></div>
      <ul data-plan-features="basic">
        <li data-feature-index="0">Unlimited chat threads</li>
        <li data-feature-index="1">Shared project spaces</li>
        <li data-feature-index="2">Priority email support</li>
      </ul>
      <div class="plan-status-chip" aria-hidden="true" hidden>Active Plan</div>
      <button class="btn primary" type="button" data-checkout-plan data-default-label="Select Plan" data-active-label="Active Plan">Select Plan</button>
    </article>
    <article class="pricing-card featured" data-plan="pro" data-plan-card>
      <h2 data-plan-name="pro">Pro</h2>
      <div class="plan-price" data-plan-price="pro">
        <span class="price">$29<span>/month</span></span>
      </div>
      <ul data-plan-features="pro">
        <li data-feature-index="0">Advanced workspace controls</li>
        <li data-feature-index="1">Team onboarding assistance</li>
        <li data-feature-index="2">Expanded storage</li>
        <li data-feature-index="3">Personal success advisor</li>
      </ul>
      <div class="plan-status-chip" aria-hidden="true" hidden>Active Plan</div>
      <button class="btn primary" type="button" data-checkout-plan data-default-label="Upgrade Plan" data-active-label="Active Plan">Upgrade Plan</button>
    </article>
    <article class="pricing-card" data-plan="elite" data-plan-card>
      <h2 data-plan-name="elite">Elite</h2>
      <div class="plan-price" data-plan-price="elite">
        <span class="price">$99<span>/month</span></span>
      </div>
      <ul data-plan-features="elite">
        <li data-feature-index="0">Dedicated concierge team</li>
        <li data-feature-index="1">Enterprise governance</li>
        <li data-feature-index="2">Custom integrations</li>
      </ul>
      <div class="plan-status-chip" aria-hidden="true" hidden>Active Plan</div>
      <button class="btn primary" type="button" data-checkout-plan data-default-label="Talk to Aserras" data-active-label="Active Plan">Talk to Aserras</button>
    </article>
  </div>
  <p class="pricing-note" data-content-key="pricing-note">
    Billing is securely handled by Aserras at checkout.
  </p>
</section>
{% endblock %}
{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    window.aserrasUI?.initPricing?.();
  });
</script>
{% endblock %}
